<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FOUND: FOUND: Open-Source Universal Navigation Determiner</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FOUND
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">FOUND: Open-Source Universal Navigation Determiner </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> FOUND is a system that Earth satellites can use to calculate their orbits using pictures taken by the satellite of Earth. It is being developed at Husky Satellite Lab, a CubeSat team at the University of Washington. It will be deployed and tested on HuskySat-2, the team's next mission.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Installation</h1>
<p>There are currently two options:</p><ol type="1">
<li><code>Install Script</code> works well for Windows and Linuxs but will not work on Apple Silicon.</li>
</ol>
<ol type="1">
<li><code>Docker</code> ensures that FOUND runs the same way on any machine. If your using Apple Silicon, this is the only option.</li>
</ol>
<h2><a class="anchor" id="autotoc_md2"></a>
Install Script</h2>
<p>If you are using Windows, you must download Windows Subsystem for Linux, and use a Linux distribution (Ubuntu by default) to run the following code.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Prerequisites</h3>
<p>For Linux Ubuntu/Oracle and MacOS (uses either <code>apt-get</code>, <code>yum</code> or <code>brew</code>) obtain the required packages for this software:</p><ul>
<li>Copy the install script into your environment: <a href="https://github.com/UWCubeSat/found/blob/main/install.sh">Link to install script</a></li>
<li>Change permissions for the install script to execute (<code>sudo chmod +rwx install.sh</code>)</li>
<li>Run the install script in root/sudo as an executable (<code>sudo ./install.sh</code>)</li>
</ul>
<h3><a class="anchor" id="autotoc_md4"></a>
Building FOUND</h3>
<ul>
<li>Clone the repository (<code>git clone <a href="https://github.com/UWCubeSat/found.git">https://github.com/UWCubeSat/found.git</a></code>)</li>
<li>Go into the directory (<code>cd found</code>)</li>
<li>Compile the executable via GNU Make or CMake (below for more information)</li>
<li>You can now [use](usage) FOUND!</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Docker</h2>
<p>This option requires you to have Docker and Visual Studio Code. To install Docker on your system, visit the <a href="https://docs.docker.com/get-docker/">official Docker installation guide</a>. If you are using a Linux computer it is reccomended that you install Docker with <code>apt-get</code> instead. <br  />
</p>
<p>You will need the <code>Dev Containers</code> VScode extension. This can be installed by looking it up in the extension's view or with <code>code --install-extension ms-vscode-remote.remote-containers</code>. </p>
<h3><a class="anchor" id="autotoc_md6"></a>
Building FOUND</h3>
<ul>
<li>Clone the repository (<code>git clone <a href="https://github.com/UWCubeSat/found.git">https://github.com/UWCubeSat/found.git</a></code>)</li>
<li>Open up FOUND in VScode (<code>code path/to/found</code>)</li>
<li>Open FOUND in container (Press <code>F1</code> and select Dev Containers: Open Folder in Container)</li>
<li>You can now [use](usage) FOUND!</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Compilation</h2>
<p>This repository uses a dual build system, using GNU Make and CMake. As usual if your code changes, you must remake your file. The <code>build.sh</code> script abstracts the difference for you. It is run as:</p>
<ol type="1">
<li>Run GNU Make: <code>./build.sh make [GNU Make options]</code></li>
<li>Run CMake: <code>./build.sh cmake "[CMake Configuration Options]" "[CMake Build Options]"</code></li>
<li>Clean the build folder: <code>./build.sh clean</code></li>
<li>Clean the build and cache folders: <code>./build.sh clean_all</code></li>
</ol>
<h1><a class="anchor" id="autotoc_md8"></a>
Usage</h1>
<p>The main executable, which is found in <code>./build/bin/found</code>, operates as a standard command-line based program. The usage is: </p><div align="center"></div><div align="center"><code>./build/bin/found &lt;option&gt; [flags]</code></div><div align="center"></div><p> There are currently two options:</p>
<ol type="1">
<li><code>calibration</code>: FOUND needs to know its own camera attitude, but does not find that information. Thus, this step produces a relative attitude based on a reference attitude that is always known, and one measurement of the FOUND camera's attitude. The output is to a <code>.found</code> file that stores this information.</li>
<li><code>distance</code>: FOUND then uses an image taken from space together with a <code>.found</code> file to figure out the position of the image, and hence the satellite, relative to the Celestial Coordinate System (conversion to lattitude/longitude/altitude is also possible).</li>
</ol>
<p>To learn more about the different flags, execute <code>./build/bin/found --help</code> or <code>./build/bin/found -h</code>. <br  />
 For developers wishing to run the FOUND test suit the executable can be found in <code>./build/bin/found-test</code>.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Example Usage</h2>
<p>Here, we present a common usage for this program. After generating the binary via <code>make</code> or simply <code>make compile</code>, execute the command:</p>
<div class="fragment"><div class="line">./build/bin/found calibration         \</div>
<div class="line">    --reference-orientation &quot;20,0,0&quot;  \</div>
<div class="line">    --local-orientation &quot;50,0,0&quot;      \</div>
<div class="line">    --output-file &quot;example-df.found&quot;</div>
</div><!-- fragment --><p> Here's what the flags mean:</p><ol type="1">
<li>A reference attitude is given (degrees) in terms of right ascension, declination and roll.</li>
<li>Another attitude is given for the local orientation, which is the orientation of FOUND.</li>
<li>There is an output file to put our calibrational data in.</li>
</ol>
<p>You will notice in the your current directory the file <code>example-df.found</code> has now appeared. You cannot directly read this file, but in particular, this file records a required Z rotation of -30 degrees to go from the reference to FOUND's attitude.</p>
<p>We can then use this calibration information to now make some position estimates of our satellite. Execute the command:</p>
<div class="fragment"><div class="line">./build/bin/found distance                         \</div>
<div class="line">    --image test/common/assets/example_earth1.png  \</div>
<div class="line">    --calibration-data example-df.found            \</div>
<div class="line">    --camera-focal-length 85e-3                    \</div>
<div class="line">    --camera-pixel-size 20e-6                      \</div>
<div class="line">    --reference-orientation 190,0,0</div>
</div><!-- fragment --><p>For the distance flags:</p><ol type="1">
<li>The image is just the path to the image we want to use. In this case, we reference an image we use in our test cases</li>
<li>We then specify our calibration data, which we generated from <code>tools.generator</code> (check out [our tools folder](tools) for more information)</li>
<li>We can specify camera parameters, like the focal length (m)</li>
<li>Or the pixel size (m)</li>
<li>We then have our reference orientation, which we need to use in conjunction with our calibration data</li>
</ol>
<p>Feeding all this information, the program now analyzes the image, the calibration data and the rest of the parameters to give us its estimate, which is seen below:</p>
<div class="fragment"><div class="line">[INFO 2025-06-11 20:58:06 PDT] Using DataFile for calibration information</div>
<div class="line">[INFO 2025-06-11 20:58:06 PDT] Calculated Position: (1.0456e+07, -67903.8, -972.935) m</div>
<div class="line">[INFO 2025-06-11 20:58:06 PDT] Distance from Earth: 1.04562e+07 m</div>
</div><!-- fragment --><p>This is close to the actual position, which is <code>{10378137, 0, 0} m</code>. To be specific, the difference is 0.995379% in magnitude and 1339.65 arcsec in direction (this is especially good since we're using low quality edge detection).</p>
<p>Another thing to point out is the reference orientation, which was <code>{190,0,0}</code>. The image specified in the command was taken at an attitude of <code>{140,0,0}</code>, which if you remember, <code>{190,0,0}-{30,0,0}={140,0,0}</code> (this doesn't general hold, since attitude "subtraction" doesn't actually look like this). This of course is important to specify, otherwise, you'll get the same magnitude, but wrong direction. Should you not want to use the calibration file to do this odd math, you can instead do the equivalent command:</p>
<div class="fragment"><div class="line">./build/bin/found distance                           \</div>
<div class="line">    --image &quot;test/common/assets/example_earth1.png&quot;  \</div>
<div class="line">    --reference-as-orientation                       \</div>
<div class="line">    --camera-focal-length 85e-3                      \</div>
<div class="line">    --camera-pixel-size 20e-6                        \</div>
<div class="line">    --reference-orientation &quot;140,0,0&quot;</div>
</div><!-- fragment --><p> Where <code>--reference-as-orientation</code> tells the program to use whatever <code>--reference-orientation</code> is as the orientation of FOUND.</p>
<p>Lastly, one thing you will not notice is that the <code>temp.found</code> file has changed. In addition to storing calibration infomration, it also stores the calculated positions and their time stamps. This is important for the <code>orbit</code> stage, which is currently not implemented. If you should not want to output to the same file, you can instead do:</p>
<div class="fragment"><div class="line">./build/bin/found distance                         \</div>
<div class="line">    --image test/common/assets/example_earth1.png  \</div>
<div class="line">    --calibration-data example-df.found            \</div>
<div class="line">    --camera-focal-length 85e-3                    \</div>
<div class="line">    --camera-pixel-size 20e-6                      \</div>
<div class="line">    --reference-orientation 190,0,0                \</div>
<div class="line">    --output-file other.found</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10"></a>
Capabilities</h1>
<p>FOUND currently has the following components/modules, which all function together produce an position estimates and orbital projections for a given satellite.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Calibration</h2>
<p>This is a "simplistic" algorithm, and simply figures out the relative attitude between our local and reference attitude. The main algorithm responsible for this is:</p><ul>
<li>[X] LOST-based Calibration Algorithm (LOST is the reference)</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
Distance Determination</h2>
<p>This algorithm is comprised of 3 main steps</p>
<h3><a class="anchor" id="autotoc_md13"></a>
Edge Detection</h3>
<p>After images from a satellite are received, their images are parsed to locate Earth's horizon in the image. FOUND is capable of:</p><ul>
<li>[X] Simple Edge Detection via Space/Ether Identification</li>
<li>[ ] Laplacian of Gaussian (LoG) Filtered Edge Detection</li>
</ul>
<h3><a class="anchor" id="autotoc_md14"></a>
Distance Determination</h3>
<p>The edge information is then used to evaluate the relative size of Earth in the image and find the distance of the satellite from Earth using principals of scale. FOUND is capable of:</p><ul>
<li>[X] Simple Spherical Planet Distance Determination</li>
<li>[X] Iterative Spherical Planet Distance Determination with SoftMax Activation and Selective Randomization</li>
<li>[ ] Distance Determination with an Ellipsoid Planet Assumption</li>
</ul>
<h3><a class="anchor" id="autotoc_md15"></a>
Vector Generation</h3>
<p>The distance information will then be used to form a vector of the satellite relative to Earth's coordinate axes. FOUND is capable of:</p><ul>
<li>[X] Star-Tracker Assisted Vector Generation via LOST-based Calibration</li>
<li>[ ] Feature Detection Assisted Vector Generation (to be developed for future mission)</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
Orbit Determination</h2>
<p>This stage takes multiple vectors of the satellite at different points in the satellite's orbit to project the satellite's future path of travel. FOUND will be capable of:</p><ul>
<li>[ ] Runge-Kutta Based Orbital Prediction</li>
<li>[ ] Lambert's Problem-Based Orbital Prediction</li>
</ul>
<h1><a class="anchor" id="autotoc_md17"></a>
Tools</h1>
<p>We have tools that can be used with our main <code>found</code> program. They can be found in [our tools folder](tools).</p>
<h1><a class="anchor" id="autotoc_md18"></a>
CMake Integration</h1>
<p>This project's code can be integrated with yours via cmake. To use: </p><div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line"> </div>
<div class="line">cmake_minimum_required(VERSION 3.16)</div>
<div class="line">project(test)</div>
<div class="line"> </div>
<div class="line">FetchContent_Declare(</div>
<div class="line">  found</div>
<div class="line">  GIT_REPOSITORY https://github.com/UWCubeSat/found.git</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">FetchContent_MakeAvailable(found)</div>
<div class="line"> </div>
<div class="line">add_executable(your_executable ...)</div>
<div class="line">target_link_libraries(test PRIVATE found::found_lib) # Link our library</div>
</div><!-- fragment --><p> The library <code>found::found_lib</code> already has all the include statements needed inside of it, so no need to locate them. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
